import urllib
import re
from bs4 import BeautifulSoup

url = input('Enter URL: ')
count = int(input('Enter count: '))
position = int(input('Enter position: '))

while count >= 0:
    name = re.findall('known_by_(.+).html', url)
    print 'Retrieving: ' + url
    html = urllib.urlopen(url).read()
    soup = BeautifulSoup(html)
    # Retrieve all the a tags:
    links = soup('a')
    url = links[position - 1].get('href', None)
    count = count - 1

print ('Last name found: ' + name[0])
